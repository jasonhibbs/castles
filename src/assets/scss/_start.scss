// Start ———————————————————————————————————————————————————————————————

#app > header {
  position: fixed;
  top: 0;
  left: 0;
  z-index: 1;
  padding: rem(20);
  padding-right: rem(64);
  pointer-events: none;

  h1 {
    line-height: (32/32);
  }

  h2 {
    margin-top: rem(12);
  }
}

.button-location {
  position: fixed;
  top: 0;
  right: 0;
  z-index: 1;
  margin: rem(20);
}

// Castles

.marker {
  --size-rate: 0.875;
  --size-exp: calc(var(--map-zoom) * (var(--map-zoom) * var(--size-rate)));
  --size: calc(0.125px * var(--size-exp));
  --width: max(2px, min(var(--size), 20px));
  --height: max(2px, min(var(--size), 20px));
  --pin-background-color: var(--color-black);
  --pin-halo-color: var(--color-map-base);
  --pin-halo-width: 2px;
  --label-background-color: var(--pin-background-color);
  --label-color: var(--color-white);

  cursor: pointer;
  font-family: var(--font-body);
  color: var(--color-map-text);
  padding: rem(8);
  // mix-blend-mode: luminosity;

  &:hover {
    z-index: 1;
  }
}

.marker-head {
  width: var(--width);
  height: var(--height);
  background-color: var(--pin-background-color);
  box-shadow: 0 0 0 var(--pin-halo-width) var(--pin-halo-color);
  border-radius: 2em;
  transition: box-shadow 0.1s ease-out;

  .marker:hover & {
    box-shadow: 0 0 0 var(--pin-halo-width) var(--pin-halo-color),
      0 0 0 calc(var(--pin-halo-width) + 2px) var(--pin-background-color);
  }
}

.marker-label {
  pointer-events: none;
  position: absolute;
  bottom: 50%;
  left: 100%;
  width: max-content;
  font-size: rem(16);

  color: var(--label-color);
  background-color: var(--label-background-color);

  opacity: calc(var(--map-zoom-floor) - 10);
  transition: opacity 0.1s ease-out;

  .marker:hover & {
    opacity: 1;
  }
}

.marker-label-content {
  padding-top: rem(1);
  padding-left: rem(5);
  padding-right: rem(5);
}

// Context

.context-marker {
  --size-rate: 1.25;
  --width: max(12px, min(var(--size), 24px));
  --height: max(12px, min(var(--size), 24px));
  --pin-background-color: var(--color-key);
  --pin-halo-width: 3px;
  // --label-color: var(--color-text);
  z-index: 1;
}
